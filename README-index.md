# 8. 인덱스

## 8.1 디스크 읽기 방식

- 컴퓨터의 cpu나 메모리 장치는 매우 빠르게 발전했지만, 반대로 디스크는 제한적으로 발전했다.
- SSD처럼 빠른 디스크가 활용되더라도, 여전히 컴퓨터에서 가장 느린 부분이라는 사실은 변함이 없고
DB 성능 튜닝은 어떻게 디스크 I/O를 줄이느냐가 관건이다.

### 8.1.1 HDD와 SSD

- SSD는 기존 하드 디스크에서 원판을 제거하고 플래시 메모리를 장착하고 있다. 원판을 기계적으로 회전시킬 필요가 없어서
빠르게 데이터를 읽고 쓸 수 있다.
- 컴퓨터 장치의 1초당 처리 횟수
  - 메모리가 SSD보다 1000배 더 많이 처리할 수 있으며 요즘은 DBMS로 사용하는 서버가 대부분 SSD를 사용한다.

```text
cpu: 1,000,000,000
Dram:  100,000,000
SSD:       100,000
HDD:           200
```

- 디스크 헤더를 움직이지 않고 순차적으로 데이터를 읽는 I/O에서는 SSD랑 HDD랑 크게 차이가 없다.
- SSD의 장점은 랜덤 I/O가 HDD보다 훨씬 빠르다는 점이다. DB에서 순차 I/O 작업보다는 랜덤 I/O 작업이 많이 
일어나기 때문에 SSD는 DBMS 스토리지에 최적이라고 볼 수 있다.

### 8.1.2 랜덤 I/O와 순차 I/O

- 랜덤 I/O와 순차 I/O의 차이를 먼저 보자. 3개의 데이터를 **디스크에 쓴다고 가정**할 때
디스크에 기록해야 할 위치를 찾기 위해 순차 I/O는 디스크 헤더를 1번 움직였고 랜덤 I/O는 3번 움직였다.
- 디스크에 데이터를 쓰고 읽는데 걸리는 시간은 디스크 헤더를 움직여서 읽고 쓸 위치로 옮기는 단계에서 결정된다.
즉, 디스크 헤더의 위치 이동없이 얼마나 많은 데이터를 한 번에 기록하느냐에 의해 결정된다.
- **SSD의 경우** 디스크 원판을 가지고 있진 않지만 여전히 랜덤 I/O가 순차 I/O보다 성능이 떨어진다.
- 쿼리를 튜닝한다는 것은 랜덤 I/O 자체를 줄여주는 것이 목적이고, 쿼리를 처리하면서 꼭 필요한 데이터를 읽도록 쿼리를 개선한다는 의미이다.
